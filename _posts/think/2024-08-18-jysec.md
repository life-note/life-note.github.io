---
layout:     post
title:      被攻破了
category: think
description: 打穿了。
---
最近服务的客户这里出现了一些网络安全事件，导致服务器被攻破，获取的到堡垒机的密钥，登陆到堡垒机的底层，又对其他的服务器进行横向渗透，获取到了其他服务器的权限。

通过这件事情，你也要去复盘反思，到底是在哪里做的不到位呢？

[以特朗普遇刺事件为例，聊一聊安全漏洞复盘](https://mp.weixin.qq.com/s/SvT_yuI-cDJ2_LTLv0dMjQ)

> **5why分析法是一种从表象问题寻找根本原因的逆向推理分析法**。
>
> How、What、Why。 从表象到本质原因的分析，导致为什么产生了这个问题，如何来根本性的处置这种问题呢？

- 用友系统

  > 外网是通过用友NC的漏洞打进来的，上传了木马，获取到了服务器的权限。
  >
  > 新业务上线后，为什么没有进行安全测试？
  >
  > 知道是使用了用友系统，安全风险较高？为什么还要上报到攻防演练目标中？
  >
  > ---
  >
  > 没有针对用友系统去做测试，是个人态度问题，知道存在隐患没有及时的处理掉。人态度问题，为什么会存在态度问题？公司后面在搞鬼，使人不能在客户在这里安心的服务。

- 入侵检测告警未分析

  > 用友系统被攻破后，上传了木马到服务器，入侵检测有webshell告警。为什么没有及时的进行处理呢？
  >
  > ---
  >
  > 这就是人的因素了，对告警的处理不及时，敏感度不高。如果及时发现了这个告警，对木马进行查杀，对服务器进行关机处理，就可能没有后面的入侵了。

- 堡垒机的密钥及SSH端口开放

  > 采用了默认密钥，以及ssh端口是对任何目标地址开放的。
  >
  > ---
  >
  > 为什么采取了默认密钥？为什么没有修改默认密钥呢？SSH端口为什么是对任何地址可访问的呢？
  >
  > 这种就是一种安全管理制度的问题、一种安全意识的问题了，作为一个有经验的工程师，需要提前预测到存在这种安全隐患，并且要将这种安全隐患消除的。

- 做事的方式 要做细致

  > 做事情不能去糊，要认真细心的去做。尤其是涉及到安全的事情，比如开车、看小孩、会被别人检查的事情。
  >
  > ---
  >
  > 你做的不细心，不到位，外面有成千上万的攻击者在盯着你的做的不足之处，随时来抓住短板利用。你做的如何？不是由你自己来评价的，每个人心里面都有一杆秤，可以对你做出评价。随时要求自己做到尽善尽美，不能给别人留下攻击的破口。做到问心无愧，你尽力了吗？

- 不能存在侥幸心理。

  > 这件事情不合规，存在风险，不要想着不会发生。比如ssh 22端口没有对IP来源进行限制。
  >
  > 现在理解了做风险评估、威胁建模的意义了。首先要看到风险点是什么？评估风险点的危害有多大？
  >
  > ---
  >
  > 侥幸心理使不得。出现一次问题可能就会毁了全部。

- 工作积极主动

  > 怎么个积极主动呢？汇报工作要积极主动，目前做到了哪个进度，遇到了什么问题？要时刻的向领导反馈。等领导问你的时候，就代表他对你的工作不满意了，他不了解具体的情况了。
  >
  > ---
  >
  > 不能太被动了，要灵活。
  >
  > 不积极主动的原因。性格比较被动了，太闷。要圆滑灵活一些，积极主动的找领导汇报工作。

- 做事的积极主动

  > 眼睛要灵活，看到事情，并且要去解决问题。不要想着其他事情与自己无关，多去想一想如何把一件事情做的更好更完满。

- mi的反馈

  > 能做事，把事情做好。
  > 和领导汇报工作 任何职场，事情要快 简单明了、不能蒙着头做事情 及时沟通 及时汇报、闷着头不好。
  >
  > 性格要改一下，要机敏 发现问题随时反应、 性格要调整一下，做事的方式。

- 学到的知识要用到

> 书本上学到了很多的项目管理知识，要在工作中有实际的应用。学会知行合一，克服心里面的懒惰，逆着里面的个性，要学会改变突破。
